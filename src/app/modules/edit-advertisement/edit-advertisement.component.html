<div class="edit-container">
  <div class="space-block">.</div>
  <form
    id="edit-advertisement"
    class="advertisement-selection"
    (ngSubmit)="handleSubmit()"
  >
    <span class="title">עריכת פרטי הנכס </span>
    <div class="edit-inputs">
      <div class="input-container">
        <label class="small-text light-grey-text" for="assetType"
          >סוג הנכס*
        </label>
        <div id="assetType" class="data-input fill-block large light-grey-text">
          {{ advertisement.assetType }}
        </div>
      </div>
      <div class="input-container">
        <label class="small-text" for="number">מס' דירה</label>
        <input class="data" id="" />
      </div>

      <div class="input-container">
        <label class="small-text" for="number">מצב הנכס*</label>
        <button
          id="assetState"
          class="data large dropdown-btn"
          type="button"
          [ngStyle]="{
            border: this.isAssetAssetstateDropdownHidden
              ? 'solid 1px #cccccc '
              : 'solid 2px #363636 '
          }"
          (click)="
            this.isAssetAssetstateDropdownHidden =
              !this.isAssetAssetstateDropdownHidden
          "
        >
          {{ this.asset_State }}

          <img class="arrow-down" src="assets/images/arrow-down.svg" alt="" />
        </button>
        <ul
          *ngIf="!this.isAssetAssetstateDropdownHidden"
          class="dropdown-select"
        >
          <li
            class="dropdown-option"
            *ngFor="let option of advertisementService.assetConditions"
            (click)="selectOption(option, 'assetState')"
          >
            {{ option }}
          </li>
        </ul>
      </div>
      <div class="input-container">
        <label class="small-text" for="view">כיווני אוויר</label>
        <div class="Select-options">
          <div
            *ngFor="
              let number of advertisementService.AirDirections;
              let i = index
            "
            [ngClass]="optionClass(i, false)"
            [class.selected]="advertisement.airDirections === number"
            (click)="selectBtnOption(number, 'airDirections', 'none')"
          >
            {{ number }}
          </div>
        </div>
      </div>

      <div class="input-container">
        <label class="small-text" for="view"> נוף פתוח</label>
        <div class="Select-options">
          <div
            *ngFor="let view of advertisementService.viewOptions; let i = index"
            [ngClass]="optionClass(i, false)"
            [class.selected]="this.advertisement.view === view"
            (click)="selectBtnOption(0, 'view', view)"
          >
            {{ view }}
          </div>
        </div>
      </div>
      <label class="checkbox-input">
        <input
          class="checkbox"
          type="checkbox"
          #frontProperty
          [checked]="this.advertisement.rearProperty.valueOf()"
          (input)="this.advertisement.rearProperty = frontProperty.checked"
        />
        נכס עורפי
      </label>

      <div class="input-container">
        <label class="small-text light-grey-text" for="city">ישוב* </label>
        <div id="city" class="data-input fill-block large light-grey-text">
          {{ advertisement.city }}
        </div>
      </div>
      <div class="input-container">
        <label class="small-text light-grey-text" for="street">רחוב* </label>
        <div id="street" class="data-input fill-block large light-grey-text">
          {{ advertisement.street }}
        </div>
        <div class="address-info-box address-info">
          המידע הזה מגיע מגוף ממשלתי, אם הרחוב שלך לא מופיע, מומלץ לבחור רחוב
          קרוב אליך
        </div>
      </div>

      <div class="input-container">
        <label class="small-text light-grey-text" for="number">מס' בית* </label>
        <div
          id="number"
          class="data-input fill-block medium-size light-grey-text"
        >
          {{ advertisement.number }}
        </div>
      </div>

      <div class="floor-description">
        <div class="input-container">
          <div class="input-container">
            <label class="small-text light-grey-text" for="floor">קומה*</label>
            <div
              id="floor"
              class="data-input fill-block medium-size light-grey-text large-size"
            >
              {{ advertisement.floor }}
            </div>
          </div>
          <div id="floor-error" class="error-text">שדה חובה</div>
        </div>

        <div class="input-container">
          <label class="small-text" for="totalFloors">סה״כ קומות בבניין*</label>
          <input
            #totalFloorInput
            class="data medium large-size"
            id="totalFloors"
            formControlName="totalFloors"
            placeholder="הכנסת סה״כ קומות "
            [value]="
              advertisement.totalFloors > 0 ? advertisement.totalFloors : ''
            "
          />
          <img
            (click)="clearTotalFloors()"
            class="erase-btn"
            src="assets/images/close-sm.svg"
            alt=""
          />
          <div id="totalFloors-error" class="error-text">
            זהו שדה חובה - סה"כ קומות בבניין
          </div>
        </div>
        <div class="check-input margin-bottom">
          <input
            #onPillars
            class="checkbox"
            type="checkbox"
            (input)="this.advertisement.onPillars = onPillars.checked"
          />
          <label> על עמודים </label>
        </div>
      </div>

      <div class="input-container">
        <label class="small-text light-grey-text" for="number"
          >מספר חדרים*
        </label>
        <div
          id="number"
          class="data-input fill-block medium-size light-grey-text"
        >
          {{ this.advertisement.rooms }}
        </div>
      </div>

      <div class="input-container">
        <label class="small-text" for="privateParking">חניה</label>
        <div class="Select-options">
          <div
            *ngFor="
              let number of advertisementService.privateParking;
              let i = index
            "
            [ngClass]="[optionClass(i, false), 'small-option']"
            [class.selected]="advertisement.privateParking === number"
            (click)="selectBtnOption(number, 'privateParking', 'none')"
          >
            @if(number==0){ {{ "ללא" }}} @else{{{ number }}}
          </div>
        </div>
      </div>
      <div class="input-container">
        <label class="small-text" for="balconiesNumber">מרפסת</label>
        <div class="Select-options">
          <div
            *ngFor="
              let number of advertisementService.balconiesNumber;
              let i = index
            "
            [ngClass]="[optionClass(i, false), 'small-option']"
            [class.selected]="advertisement.balconiesNumber === number"
            (click)="selectBtnOption(number, 'balconiesNumber', 'none')"
          >
            @if(number==0){ {{ "ללא" }}} @else{{{ number }}}
          </div>
        </div>
      </div>

      <div class="sub-title-">מאפייני הנכס</div>

      <div class="property-Features">
        <div
          class="Feature"
          *ngFor="let item of propertyFeatures; let i = index"
          (click)="selectPropertyFeatures(i)"
          [class.selected2]="this.findPropertyFeature(i) === true"
        >
          <img
            id="{{ propertyFeaturesImages[i] }}"
            [src]="'assets/images/' + propertyFeaturesImages[i] + '.svg'"
            class="feature-pic"
            alt="feature"
          />
          <span>
            {{ item }}
          </span>
        </div>
      </div>
      <div class="sub-title-">מה חשוב לך שידעו על הנכס?</div>

      <div class="description-box" *ngIf="advertisement.furnished">
        <label class="small-text" for=""> פרוט הריהוט: (עד 200 תוים) </label>
        <div class="description-title description-box">
          <div class="loading-bar">
            <span class="descriptionMessage">
              {{ this.descriptionMessage }}</span
            >
          </div>
          <div
            [ngClass]="
              changeColor(advertisement.furnituredescription.length || 0)
            "
            [ngStyle]="{
              width: changeWidth(advertisement.furnituredescription.length || 0)
            }"
          ></div>

          <div class="content-chars">
            {{ advertisement.furnituredescription.length || 0 }}/200
          </div>
        </div>
        <textarea
          id="furnituredescription"
          #furnituredescription
          (input)="
            this.advertisement.furnituredescription = furnituredescription.value
          "
          [value]="advertisement.furnituredescription"
        ></textarea>
      </div>
    </div>
  </form>
</div>
