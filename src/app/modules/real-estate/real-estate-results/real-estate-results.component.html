<div *ngIf="this.$apartments | async as apartments">
  <div class="sort-container">
    <div>
      <i class="material-icons">keyboard_arrow_down</i>
      <span class="result">מיון לפי</span><span class="date"> תאריך </span>
    </div>

    <div class="result">
      <span style="font-size: 24px">{{ apartments.length }}</span> תוצאות
    </div>
  </div>

  <div class="result-list">
    <div
      class="container"
      *ngFor="let advertisement of apartments; let i = index"
    >
      <div
        class="like-button"
        (click)="authSerivce.updateAdvertisementToFavorites(advertisement.id)"
      >
        <mat-icon
          *ngIf="this.isFavorite(advertisement.id)"
          aria-hidden="false"
          aria-label="Example home icon"
          fontIcon="favorite"
          class="like-button-selected"
        ></mat-icon>

        <mat-icon
          [ngClass]="{
            'like-button-red-color': hoverIndex === i
          }"
          *ngIf="!this.isFavorite(advertisement.id)"
          aria-hidden="false"
          aria-label="Example home icon"
          fontIcon="favorite_border"
          (mouseenter)="hoverIndex = i"
          (mouseleave)="hoverIndex = -1"
        ></mat-icon>
      </div>
      <div
        class="advertisement-details"
        routerLink="/advertisement/{{ advertisement.id }}"
      >
        <div class="title">
          {{ advertisement.street + " " + advertisement.number }}
        </div>

        <div class="list-group-item">
          <ng-container>
            {{ advertisement.assetType }},{{ advertisement.neighborhood }},{{
              advertisement.city
            }}
          </ng-container>
        </div>

        <div class="list-group-item">
          <li>{{ advertisement.rooms }} חדרים •</li>
          <li>קומה {{ advertisement.floor }} •</li>
          <li>{{ advertisement.totalSquareMeters }} מ"ר</li>
        </div>
        <div class="last-row">
          <div class="tags">
            <div class="price">₪{{ advertisement.price | number }}</div>

            <div class="list-tags">
              <li
                *ngFor="
                  let word of advertisementService.getFirstThreeAdvertisementParameters(
                    advertisement
                  )
                "
                class="list-tag"
              >
                {{ word }}
              </li>
            </div>
          </div>
        </div>
      </div>
      <div class="image">
        <img
          routerLink="/advertisement/{{ advertisement.id }}"
          *ngIf="advertisement.pictures && advertisement.pictures.length > 0"
          [src]="advertisement.pictures[0].url"
          class="card-img"
          alt="Advertisement Image"
        />
      </div>
    </div>
  </div>
</div>
