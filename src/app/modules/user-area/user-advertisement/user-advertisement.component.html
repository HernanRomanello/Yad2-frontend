<div class="component-content">
  <div class="main-title">המודעות שלי</div>
  <div class="sort-btns-container">
    <div class="label">סינון לפי:</div>
    <div class="input-container">
      <button
        id="CategoryType"
        class="input large dropdown-btn"
        type="button"
        (click)="toggleDropdown('')"
      >
        {{ "  קטגוריה" }}
        <i #sortCategoryDropdown class="material-icons">keyboard_arrow_down</i>
      </button>
      <ul *ngIf="false" class="dropdown-menu asset">
        <li
          class="dropdown-item"
          *ngFor="let option of assetTypes"
          (click)="selectOption(option, 'assetType'); setAssetType(option)"
        >
          {{ option }}
        </li>
      </ul>
    </div>
    <div class="input-container">
      <button
        id="CategoryType"
        class="input large dropdown-btn"
        type="button"
        (click)="toggleDropdown('')"
      >
        {{ "  סטטוס" }}
        <i #sortCategoryDropdown class="material-icons">keyboard_arrow_down</i>
      </button>
      <ul *ngIf="false" class="dropdown-menu asset">
        <li
          class="dropdown-item"
          *ngFor="let option of assetTypes"
          (click)="selectOption(option, 'assetType'); setAssetType(option)"
        >
          {{ option }}
        </li>
      </ul>
    </div>
  </div>
  <div>
    <div class="result-list">
      <div
        class="ad-container"
        *ngFor="
          let advertisement of authService.UserAdvertisements | async;
          let i = index
        "
      >
        <div class="slider-container">
          <div class="slider">
            <div class="slider-indicators1 slider-arrows">
              <span class="dark-circle">
                <img
                  (click)="
                    goToSlide(false, true, advertisement.pictures.length)
                  "
                  src="assets/images/next-arrow.svg"
                  class="arrow-pic"
                  alt="ad2"
              /></span>
              <span class="dark-circle">
                <img
                  (click)="
                    goToSlide(true, false, advertisement.pictures.length)
                  "
                  src="assets/images/prev-arrow.svg"
                  class="arrow-pic"
                  alt="ad2"
              /></span>
            </div>
            <!-- <div
              class="slide"
              *ngFor="let image of advertisement.pictures; let i = index"
            >
              <img class="card-img" [src]="image.url" [alt]="image" />
              <div class="slider-indicators1">
                <span
                  *ngFor="let image of advertisement.pictures; let i = index"
                  class="dot"
                ></span>
              </div>
            </div> -->
            @for (image of advertisement.pictures; track $index) {
            <div class="slide">
              @for (image of advertisement.pictures; track $index) {
              @if($index== 0){

              <img class="card-img" [src]="image.url" [alt]="image" />
              <div class="slider-indicators1">
                @for (image of advertisement.pictures; track $index) {
                @if($index== 0){
                <span class="dot dot-active"></span>

                } @else {
                <span class="dot"></span>
                } }
              </div>
              } }
            </div>

            }
            <!-- <div class="slider-indicators">
                 [ngClass]="{ active: i === currentSlide }"
              [ngClass]="{ active: i === currentSlide }"

                <span
                  *ngFor="let image of advertisement.pictures; let i = index"
                  class="dot"
                  [ngClass]="{ active: i === currentSlide }"
                  (click)="goToSlide(i)"
                ></span>
              </div> -->
          </div>
        </div>

        <!-- <div class="advertisement-details">
          <div class="title">
            {{ advertisement.street + " " + advertisement.number }}
          </div>

          <div class="list-group-item">
            <ng-container>
              {{ advertisement.assetType }},{{ advertisement.neighborhood }},{{
                advertisement.city
              }}
            </ng-container>
          </div>

          <div class="list-group-item">
            <li>{{ advertisement.rooms }} חדרים •</li>
            <li>קומה {{ advertisement.floor }} •</li>
            <li>{{ advertisement.totalSquareMeters }} מ"ר</li>
          </div>
          <div class="last-row">
            <div class="tags">
              <div class="price">₪{{ advertisement.price | number }}</div>

              <div class="list-tags">
                <li
                  *ngFor="
                    let word of advertisementService.getFirstThreeAdvertisementParameters(
                      advertisement
                    )
                  "
                  class="list-tag"
                >
                  {{ word }}
                </li>
              </div>
            </div>
          </div>
        </div> -->
        <!-- <div class="image">
          <img
            *ngIf="advertisement.pictures && advertisement.pictures.length > 0"
            [src]="advertisement.pictures[0].url"
            class="card-img"
            alt="Advertisement Image"
          />
        </div> -->
      </div>
    </div>
  </div>
</div>
